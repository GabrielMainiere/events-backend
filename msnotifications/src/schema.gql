# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input CreateTemplateInput {
  bodyTemplate: String!
  channel: NotificationChannel!
  notificationType: NotificationType!
  subjectTemplate: String!
  templateName: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  """Create new template"""
  createTemplate(input: CreateTemplateInput!): Template!

  """Delete template by ID"""
  deleteTemplate(id: ID!): Boolean!

  """Update existing template"""
  updateTemplate(input: UpdateTemplateInput!): Template!

  """Upsert user preference"""
  upsertUserPreference(input: UpsertUserPreferenceInput!): UserPreference!
}

"""Canais pelos quais as notificações podem ser enviadas"""
enum NotificationChannel {
  EMAIL
  PUSH
  SMS
}

"""Tipos de notificações disponíveis no sistema"""
enum NotificationType {
  ACCOUNT
  EVENT
  MARKETING
  PAYMENTS
}

type Query {
  """Get template by ID"""
  template(id: ID!): Template

  """List all templates"""
  templates: [Template!]!

  """Get user preferences by userId"""
  userPreferences(userId: String!): [UserPreference!]!
}

type Template {
  bodyTemplate: String!
  channel: NotificationChannel!
  createdAt: DateTime!
  id: ID!
  notificationType: NotificationType!
  subjectTemplate: String!
  templateName: String!
  updatedAt: DateTime!
}

input UpdateTemplateInput {
  bodyTemplate: String
  channel: String
  notificationType: String
  subjectTemplate: String
  templateId: ID!
  templateName: String
}

input UpsertUserPreferenceInput {
  channel: NotificationChannel!
  isEnabled: Boolean!
  notificationType: NotificationType!
  userId: String!
}

type UserPreference {
  channel: NotificationChannel!
  id: ID!
  isEnabled: Boolean!
  notificationType: NotificationType!
  updatedAt: DateTime!
  userId: String!
}